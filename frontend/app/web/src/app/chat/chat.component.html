
<div [ngClass]="state">
  <div  class="chat-title">

    <div style="display: flex; justify-content: space-between; align-items: center; align-content: center; position:relative; width: 60%">

    <div class="badge">

    <button class="avatar" href="#"  >
    <img src="https://cdn.intra.42.fr/users/krios-fu.jpg"  alt="krios-fu" />
    </button>
    </div >

      <div matBadge="42"
           matBadgeOverlap="true"
           matBadgeSize="small"
           matBadgePosition="after"
           matBadgeColor="warn"
           [matBadgeHidden]="hidden"
           style="position: absolute; left: 32px; bottom: 6px ; "></div>
    <span >{{login}}</span>
    </div>


<!--    <mat-icon matBadge="15" matBadgeColor="warn" [matBadgeHidden]="hidden" (click)="toggleBadgeVisibility()">message</mat-icon>-->


    <div class="icon" style=" display: flex; color : rgb(111, 255, 0); align-items: center; align-content: center;">
      <button mat-icon-button (click)="chatMin(); toggleBadgeVisibility()" >
        <mat-icon>{{unfold}}</mat-icon>
      </button>


      <button mat-icon-button routerLink="../">
        <mat-icon>close</mat-icon>
      </button>
      <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="options" style="padding: 1px;">
       <mat-icon>more_vert</mat-icon>
      </button>
     <mat-menu #menu="matMenu">
      <!--disabled option -->
      <button mat-menu-item >
        <mat-icon>block</mat-icon>
        <span>Block</span>
      </button>
      <button mat-menu-item>
        <mat-icon>notifications_off</mat-icon>
        <span>Disable alerts</span>
      </button>
    </mat-menu>
  </div>

</div>

   <div #update class="messages"  [scrollTop]="update.scrollHeight + 10">

     <div *ngFor="let msg of viewMessage()" >
       <div *ngIf="msg.sender === getSocketId(); else other" class="message message-personal new"> {{msg.msg}}</div>
       <ng-template #other> <div class="message">
         <figure class="avatar">
           <img src="https://cdn.intra.42.fr/users/krios-fu.jpg">
         </figure> {{msg.msg}}
       </div></ng-template>
     </div>
   </div>
   <div class="message-box">
     <form (ngSubmit)="sendMessage()" [formGroup]="formMessage" class="users-type">
       <input formControlName="message" type="text" class="message-input" placeholder="Type message...">
       <button type="submit" class="message-submit">Send</button>
     </form>
   </div>
</div>

